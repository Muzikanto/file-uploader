(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1011:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(105);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(1013)],module)}.call(this,__webpack_require__(1012)(module))},1013:function(module,exports,__webpack_require__){var map={"./index.stories.tsx":1040};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1013},1040:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var defineProperty=__webpack_require__(133),toConsumableArray=__webpack_require__(429),Box=__webpack_require__(1065),Grid=__webpack_require__(1061),IconButton=__webpack_require__(1064),Paper=__webpack_require__(1059),Typography=__webpack_require__(1060),Close=__webpack_require__(428),Close_default=__webpack_require__.n(Close),react=__webpack_require__(0),react_default=__webpack_require__.n(react),objectSpread2=__webpack_require__(426),slicedToArray=__webpack_require__(265);function parseFileList(fileList){for(var list=[],i=0;i<fileList.length;i++){var file=fileList.item(i);file&&list.push(file)}return list}var src=function FileUploader(props){var fileInputRef=react_default.a.createRef(),_React$useState=react_default.a.useState([]),_React$useState2=Object(slicedToArray.a)(_React$useState,2),files=_React$useState2[0],setFiles=_React$useState2[1],_React$useState3=react_default.a.useState(!1),_React$useState4=Object(slicedToArray.a)(_React$useState3,2),dragged=_React$useState4[0],setDragged=_React$useState4[1],validator=react_default.a.useCallback(function makeValidator(options,labels){return function(file){return options.accept&&-1===options.accept.indexOf(file.type)?{file:file,success:!1,error:labels.notAccept||"not-accept"}:options.maxSize&&file.size>options.maxSize?{file:file,success:!1,error:labels.maxSize||"max-size"}:{file:file,success:!0}}}({accept:props.accept,maxSize:props.maxSize},Object(objectSpread2.a)({},props.validateErrors)),[props.validateErrors]),validate=react_default.a.useCallback((function(el){if(props.validate){var err=props.validate(el);if(err)return{file:el,error:err,success:!1}}return validator(el)}),[validator]),onClick=react_default.a.useCallback((function(e){fileInputRef.current&&fileInputRef.current.click()}),[fileInputRef]),_onChange=react_default.a.useCallback((function(list){var newState=list.map(validate),nextState=[];props.reset||newState.push.apply(nextState,files),newState.push.apply(nextState,newState),props.files||setFiles(nextState),props.onErrors&&props.onErrors(newState),props.onChange&&props.onChange(nextState)}),[files]),onDragEnter=react_default.a.useCallback((function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items.length>0&&setDragged(!0)}),[]),onDragLeave=react_default.a.useCallback((function(e){e.preventDefault(),e.stopPropagation(),setDragged(!1)}),[]),onDragOver=react_default.a.useCallback((function(e){e.preventDefault(),e.stopPropagation()}),[]),onDrop=react_default.a.useCallback((function(e){e.preventDefault(),e.stopPropagation(),setDragged(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(_onChange(parseFileList(e.dataTransfer.files)),e.dataTransfer.clearData())}),[]);return react_default.a.useEffect((function(){props.files&&setFiles(props.files)}),[props.files]),react_default.a.createElement(react_default.a.Fragment,null,props.children({onClick:onClick,onDragEnter:onDragEnter,onDragLeave:onDragLeave,onDragOver:onDragOver,onDrop:onDrop,files:files,dragged:dragged,change:function change(arr){return setFiles(arr)}}),react_default.a.createElement("input",{value:"",ref:fileInputRef,accept:props.accept?props.accept.join(","):void 0,style:{display:"none"},type:"file",multiple:props.multiple,onChange:function onChange(e){var targetFiles=e.target.files;targetFiles&&_onChange(parseFileList(targetFiles)),e.target.value=""},"max-size":props.maxSize}))},makeStyles=__webpack_require__(427),makeStyles_default=__webpack_require__.n(makeStyles),clsx_m=__webpack_require__(18),CheckCircleOutlineOutlined=__webpack_require__(1062),ErrorOutlineOutlined=__webpack_require__(1063),dist=__webpack_require__(57);__webpack_require__.d(__webpack_exports__,"FileUploader",(function(){return index_stories_FileUploader}));var useStyles=makeStyles_default()((function(theme){return{file:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:10},file_success:{backgroundColor:theme.palette.success.main},file_error:{backgroundColor:theme.palette.error.main},name:{color:"white",fontSize:15},size:{marginLeft:10,color:"white",opacity:.6,fontSize:14},remove:{color:"white","&:hover":{backgroundColor:"rgba(255,255,255,0.15)"}},icon:{color:"white",marginRight:10}}}));__webpack_exports__.default={title:"Components",parameters:{component:src}};function index_stories_FileUploader(){return react_default.a.createElement(src,{onChange:console.log,multiple:Object(dist.boolean)("multiple",!0),reset:Object(dist.boolean)("reset",!1),validateErrors:{notAccept:Object(dist.text)("error-notAccept","Not accepted format"),maxSize:Object(dist.text)("error-maxSize","File size is to large")},accept:Object(dist.array)("accept",["image/jpeg","image/png"]),maxSize:Object(dist.number)("maxSize",102400),onErrors:console.log,validate:Object(dist.boolean)("customValidate",!0)?function(el){return-1!=el.name.indexOf(".pdf")?"custom error":void 0}:void 0},(function(_ref){var onClick=_ref.onClick,files=_ref.files,change=_ref.change,dragged=_ref.dragged,onDragEnter=_ref.onDragEnter,onDragLeave=_ref.onDragLeave,onDragOver=_ref.onDragOver,onDrop=_ref.onDrop;return(react_default.a.createElement(Paper.a,{onClick:onClick,elevation:dragged?4:1,style:{display:"flex",flexDirection:"column",alignItems:"center",padding:15,cursor:"pointer",width:400},onDragEnter:onDragEnter,onDragOver:onDragOver,onDragLeave:onDragLeave,onDrop:onDrop},react_default.a.createElement(Typography.a,null,"Drag & Drop your files or Browse"),files.length>0&&react_default.a.createElement(Grid.a,{container:!0,spacing:2,style:{marginTop:10}},files.map((function(el,i){return react_default.a.createElement(Grid.a,{item:!0,xs:12,key:"file-"+i},react_default.a.createElement(RenderFile,{data:el,onRemove:function onRemove(){var arr=Object(toConsumableArray.a)(files);arr.splice(i,1),change(arr)}}))})))))}))}function RenderFile(props){var _clsx,classes=useStyles(),data=props.data;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Paper.a,{onClick:function onClick(e){e.preventDefault(),e.stopPropagation()},elevation:4,className:Object(clsx_m.a)(classes.file,(_clsx={},Object(defineProperty.a)(_clsx,classes.file_success,data.success),Object(defineProperty.a)(_clsx,classes.file_error,!data.success),_clsx))},react_default.a.createElement(Box.a,{display:"flex",alignItems:"center"},data.success?react_default.a.createElement(CheckCircleOutlineOutlined.a,{className:classes.icon}):react_default.a.createElement(ErrorOutlineOutlined.a,{className:classes.icon}),react_default.a.createElement(Typography.a,{className:classes.name},data.file.name),react_default.a.createElement(Typography.a,{className:classes.size},"(",function parseFileSize(rawSize){var size=+(rawSize/1024).toFixed(0);return size<1024?size+" kb":size+" mb"}(data.file.size),")")),react_default.a.createElement(IconButton.a,{className:classes.remove,size:"small",onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),props.onRemove()}},react_default.a.createElement(Close_default.a,null))),data.error&&react_default.a.createElement(Typography.a,{color:"error"},data.error))}},433:function(module,exports,__webpack_require__){__webpack_require__(434),__webpack_require__(810),__webpack_require__(811),module.exports=__webpack_require__(1011)},565:function(module,exports){},811:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(0);var _storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(105),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addParameters)({options:{showRoots:!0},dependencies:{withStoriesOnly:!0,hideEmpty:!0}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)((function(story){return story()}))}},[[433,1,2]]]);
//# sourceMappingURL=main.b88deb62b878dd9bc270.bundle.js.map